{"remainingRequest":"/home/csimage/group_repo/cultime_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/csimage/group_repo/cultime_frontend/src/views/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/csimage/group_repo/cultime_frontend/src/views/Register.vue","mtime":1615297686131},{"path":"/home/csimage/group_repo/cultime_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/csimage/group_repo/cultime_frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/csimage/group_repo/cultime_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/csimage/group_repo/cultime_frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwovLyBpbXBvcnQgSGVsbG9Xb3JsZCBmcm9tICdAL2NvbXBvbmVudHMvSGVsbG9Xb3JsZC52dWUnCgppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1JlZ2lzdGVyJywKICBjb21wb25lbnRzOiB7fSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8gUmVnaXN0cmF0aW9uIGRhdGEgYmVsb3cKICAgICAgZmlyc3RfbmFtZTogIiIsCiAgICAgIGxhc3RfbmFtZTogIiIsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgcGFzc3dvcmRfY29uZmlybWF0aW9uOiAiIiwKICAgICAgdXNlcm5hbWU6ICIiLAogICAgICBlbWFpbDogIiIsCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTdWJtaXQoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCkKICAgICAgaWYgKHRoaXMucGFzc3dvcmQgPT09IHRoaXMucGFzc3dvcmRfY29uZmlybWF0aW9uICYmIHRoaXMucGFzc3dvcmQubGVuZ3RoID4gMCkKICAgICAgewogICAgICAgIGxldCB1cmwgPSAiaHR0cDovL2xvY2FsaG9zdDo4MDAwL3JlZ2lzdGVyLyIKICAgICAgICBheGlvcy5wb3N0KHVybCwgewogICAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsCiAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwKICAgICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgICAgZmlyc3RfbmFtZTogdGhpcy5maXJzdF9uYW1lLAogICAgICAgICAgbGFzdF9uYW1lOiB0aGlzLmxhc3RfbmFtZQogICAgICAgIH0pCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgLy9sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YS51c2VyKSkKICAgICAgICAgIC8vbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2p3dCcscmVzcG9uc2UuZGF0YS50b2tlbikKCiAgICAgICAgICBjb25zb2xlLmxvZygiTmV3IHVzZXIgYWRkZWQiKQogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSkKCiAgICAgICAgICAvLyBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpICE9IG51bGwpewogICAgICAgICAgLy8gICB0aGlzLiRlbWl0KCdsb2dnZWRJbicpCiAgICAgICAgICAvLyAgIGlmKHRoaXMuJHJvdXRlLnBhcmFtcy5uZXh0VXJsICE9IG51bGwpewogICAgICAgICAgLy8gICAgIHRoaXMuJHJvdXRlci5wdXNoKHRoaXMuJHJvdXRlLnBhcmFtcy5uZXh0VXJsKQogICAgICAgICAgLy8gICB9CiAgICAgICAgICAvLyAgIGVsc2V7CiAgICAgICAgICAvLyAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKQogICAgICAgICAgLy8gICB9CiAgICAgICAgICAvLyB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0gCiAgICAgIGVsc2UgewogICAgICAgIHRoaXMucGFzc3dvcmQgPSAiIgogICAgICAgIHRoaXMucGFzc3dvcmRDb25maXJtID0gIiIKCiAgICAgICAgcmV0dXJuIGFsZXJ0KCJQYXNzd29yZHMgZG8gbm90IG1hdGNoIikKICAgICAgfQogICAgfQogIH0sCn0K"},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <div id=\"nav\">\n      <router-link to=\"/\">Home</router-link> |\n      <router-link to=\"/login\">Login</router-link> |\n      <router-link to=\"/register\">Create Account</router-link>\n    </div>\n\n    <h4>Register</h4>\n      <form>\n        <label for=\"first_name\">First Name</label>\n        <div>\n          <input id=\"first_name\" type=\"text\" v-model=\"first_name\" required autofocus>\n        </div>\n\n        <label for=\"last_name\">Last Name</label>\n        <div>\n          <input id=\"last_name\" type=\"text\" v-model=\"last_name\" required autofocus>\n        </div>\n\n        <label for=\"username\">Username</label>\n        <div>\n          <input id=\"username\" type=\"text\" v-model=\"username\" required autofocus>\n        </div>\n\n        <label for=\"email\" >E-Mail Address</label>\n        <div>\n          <input id=\"email\" type=\"email\" v-model=\"email\" required>\n        </div>\n\n        <label for=\"password\">Password</label>\n        <div>\n          <input id=\"password\" type=\"password\" v-model=\"password\" required>\n        </div>\n\n        <label for=\"password-confirm\">Confirm Password</label>\n        <div>\n          <input id=\"password-confirm\" type=\"password\" v-model=\"password_confirmation\" required>\n        </div>\n\n        <div>\n          <button type=\"submit\" @click=\"handleSubmit\">\n            Register\n          </button>\n        </div>\n      </form>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\n// import HelloWorld from '@/components/HelloWorld.vue'\n\nimport axios from 'axios'\n\nexport default {\n  name: 'Register',\n  components: {},\n  data() {\n    return {\n      // Registration data below\n      first_name: \"\",\n      last_name: \"\",\n      password: \"\",\n      password_confirmation: \"\",\n      username: \"\",\n      email: \"\",\n    }\n  },\n  methods: {\n    handleSubmit(e) {\n      e.preventDefault()\n      if (this.password === this.password_confirmation && this.password.length > 0)\n      {\n        let url = \"http://localhost:8000/register/\"\n        axios.post(url, {\n          username: this.username,\n          password: this.password,\n          email: this.email,\n          first_name: this.first_name,\n          last_name: this.last_name\n        })\n        .then(response => {\n          //localStorage.setItem('user',JSON.stringify(response.data.user))\n          //localStorage.setItem('jwt',response.data.token)\n\n          console.log(\"New user added\")\n          console.log(response.data)\n\n          // if (localStorage.getItem('jwt') != null){\n          //   this.$emit('loggedIn')\n          //   if(this.$route.params.nextUrl != null){\n          //     this.$router.push(this.$route.params.nextUrl)\n          //   }\n          //   else{\n          //     this.$router.push('/')\n          //   }\n          // }\n        })\n        .catch(error => {\n          console.error(error);\n        });\n      } \n      else {\n        this.password = \"\"\n        this.passwordConfirm = \"\"\n\n        return alert(\"Passwords do not match\")\n      }\n    }\n  },\n}\n</script>\n"]}]}