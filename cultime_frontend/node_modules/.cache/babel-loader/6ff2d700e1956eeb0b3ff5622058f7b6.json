{"remainingRequest":"/home/csimage/group_repo/cultime_frontend/node_modules/babel-loader/lib/index.js!/home/csimage/group_repo/cultime_frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/csimage/group_repo/cultime_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/csimage/group_repo/cultime_frontend/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/csimage/group_repo/cultime_frontend/src/views/Login.vue","mtime":1613745224170},{"path":"/home/csimage/group_repo/cultime_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/csimage/group_repo/cultime_frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/csimage/group_repo/cultime_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/csimage/group_repo/cultime_frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gQCBpcyBhbiBhbGlhcyB0byAvc3JjCi8vIGltcG9ydCBIZWxsb1dvcmxkIGZyb20gJ0AvY29tcG9uZW50cy9IZWxsb1dvcmxkLnZ1ZScKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMb2dpbicsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgaWYgKHRoaXMucGFzc3dvcmQubGVuZ3RoID4gMCkgewogICAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9sb2dpbi8nLCB7CiAgICAgICAgICB1c2VybmFtZTogdGhpcy51c2VybmFtZSwKICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzLnVzZXJuYW1lLCBfdGhpcy5wYXNzd29yZCk7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsgLy9sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YS51c2VyKSkKCiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnand0JywgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSkpOwoKICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JykgIT0gbnVsbCkgewogICAgICAgICAgICBfdGhpcy4kZW1pdCgnbG9nZ2VkSW4nKTsKCiAgICAgICAgICAgIGlmIChfdGhpcy4kcm91dGUucGFyYW1zLm5leHRVcmwgIT0gbnVsbCkgewogICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaChfdGhpcy4kcm91dGUucGFyYW1zLm5leHRVcmwpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnZmVlZCcpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLnJlc3BvbnNlKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AAEA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,CADA,EACA;AAAA;;AACA,MAAA,CAAA,CAAA,cAAA;;AACA,UAAA,KAAA,QAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,8BAAA,EAAA;AACA,UAAA,QAAA,EAAA,KAAA,QADA;AAEA,UAAA,QAAA,EAAA,KAAA;AAFA,SAAA,EAIA,IAJA,CAIA,UAAA,QAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,QAAA,EAAA,KAAA,CAAA,QAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,IAAA,EAFA,CAGA;;AACA,UAAA,YAAA,CAAA,OAAA,CAAA,KAAA,EAAA,IAAA,CAAA,SAAA,CAAA,QAAA,CAAA,IAAA,CAAA;;AAEA,cAAA,YAAA,CAAA,OAAA,CAAA,KAAA,KAAA,IAAA,EAAA;AACA,YAAA,KAAA,CAAA,KAAA,CAAA,UAAA;;AACA,gBAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,OAAA,IAAA,IAAA,EAAA;AACA,cAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,OAAA;AACA,aAFA,MAGA;AACA,cAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,MAAA;AACA;AACA;AACA,SAnBA,WAoBA,UAAA,KAAA,EAAA;AACA,UAAA,OAAA,CAAA,KAAA,CAAA,KAAA,CAAA,QAAA;AACA,SAtBA;AAuBA;AACA;AA5BA;AARA,CAAA","sourcesContent":["<template>\n  <div class=\"login\">\n    <form>\n      <label for=\"username\" >Username</label>\n      <div>\n        <input id=\"username\" type=\"text\" v-model=\"username\" required autofocus>\n      </div>\n      <div>\n        <label for=\"password\" >Password</label>\n        <div>\n          <input id=\"password\" type=\"password\" v-model=\"password\" required>\n        </div>\n      </div>\n      <div>\n        <button type=\"submit\" @click=\"handleSubmit\">\n          Login\n        </button>\n      </div>\n  </form>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\n// import HelloWorld from '@/components/HelloWorld.vue'\n\nimport axios from 'axios'\n\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n    }\n  },\n  methods: { \n    handleSubmit(e){\n      e.preventDefault()\n        if (this.password.length > 0) {\n          axios.post('http://localhost:8000/login/', {\n            username: this.username,\n            password: this.password\n          })\n          .then(response => {\n            console.log(this.username, this.password)\n            console.log(response.data)\n            //localStorage.setItem('user',JSON.stringify(response.data.user))\n            localStorage.setItem('jwt', JSON.stringify(response.data))\n\n            if (localStorage.getItem('jwt') != null){\n              this.$emit('loggedIn')\n              if(this.$route.params.nextUrl != null){\n                this.$router.push(this.$route.params.nextUrl)\n              }\n              else {\n                this.$router.push('feed')\n              }\n            }\n          })\n          .catch(function (error) {\n            console.error(error.response);\n          });\n      }\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/views"}]}